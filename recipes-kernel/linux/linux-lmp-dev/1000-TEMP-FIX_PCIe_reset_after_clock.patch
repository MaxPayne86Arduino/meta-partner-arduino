Index: kernel-source/drivers/pci/controller/dwc/pci-imx6.c
===================================================================
--- kernel-source.orig/drivers/pci/controller/dwc/pci-imx6.c
+++ kernel-source/drivers/pci/controller/dwc/pci-imx6.c
@@ -944,6 +944,7 @@ static void imx6_pcie_deassert_core_rese
 	}
 
 	/* Some boards don't have PCIe reset GPIO. */
+#if 0
 	if (gpio_is_valid(imx6_pcie->reset_gpio)) {
 		gpio_set_value_cansleep(imx6_pcie->reset_gpio,
 					imx6_pcie->gpio_active_high);
@@ -951,7 +952,7 @@ static void imx6_pcie_deassert_core_rese
 		gpio_set_value_cansleep(imx6_pcie->reset_gpio,
 					!imx6_pcie->gpio_active_high);
 	}
-
+#endif
 	switch (imx6_pcie->drvdata->variant) {
 	case IMX8QXP:
 	case IMX8QM:
@@ -1047,7 +1048,15 @@ static void imx6_pcie_deassert_core_rese
 	case IMX6Q:		/* Nothing to do */
 		break;
 	}
-
+#if 1
+	if (gpio_is_valid(imx6_pcie->reset_gpio)) {
+		gpio_set_value_cansleep(imx6_pcie->reset_gpio,
+					imx6_pcie->gpio_active_high);
+		msleep(100);
+		gpio_set_value_cansleep(imx6_pcie->reset_gpio,
+					!imx6_pcie->gpio_active_high);
+	}
+#endif
 	return;
 }
 
