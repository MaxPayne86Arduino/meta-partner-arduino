devnum=2
devtype=mmc
fdtovaddr=0x43600000
bootcmd_ovl_load=fatload mmc ${devnum}:1 ${loadaddr} devicetree/overlays.txt;\
                 env import -t ${loadaddr} ${filesize}
bootcmd_dtb=fatload ${devtype} ${devnum}:1 ${fdt_addr} ${fdt_file}
bootcmd_ovy=fdt addr ${fdt_addr}; fdt resize 0x1000; \
            for ov in ${overlays}; do; \
              echo overlaying ${ov}... \
              fatload ${devtype} ${devnum}:${bootpart} ${fdtovaddr} devicetree/${ov}.dtbo && \
              fdt apply ${fdtovaddr} \
            done
bootcmd_args=setenv bootargs console=${console} root=/dev/mmcblk2p2 rootwait rw
bootcmd_load_k=fatload ${devtype} ${devnum}:1 ${loadaddr} ${image}
bootcmd_run=booti ${loadaddr} - ${fdt_addr}
bootcmd=run bootcmd_ovl_load; run bootcmd_dtb; run bootcmd_ovy; run bootcmd_args; run bootcmd_load_k; run bootcmd_run
